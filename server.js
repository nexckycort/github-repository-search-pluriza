(()=>{"use strict";var e={287:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AdaptRouteMiddleware=void 0,t.AdaptRouteMiddleware=(...e)=>e.map((e=>async(t,r,o)=>{const s={body:t.body,params:t.params,query:t.query,headers:t.headers},a=await e.handle(s);if(200===a.statusCode)return Object.assign(t.body,a.body),o();r.status(a.statusCode).json(a.body)}))},8809:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AdaptRoute=void 0,t.AdaptRoute=e=>async(t,r)=>{const o={body:t.body,params:t.params,query:t.query,headers:t.headers},s=await e.handle(o);r.status(s.statusCode).json(s.body)}},494:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(r(2127)),a=o(r(5382)),n=r(462),i=o(r(5017)),c=(0,s.default)();(0,a.default)(c),(0,n.middlewares)(c),(0,i.default)(c),t.default=c},5382:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(r(3698)),a=r(6677);t.default=e=>{e.use("/api-docs",a.serve,(0,a.setup)(s.default))}},4093:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pathPublic=t.redisConnection=t.apiGitHub=t.api=t.corsUrl=t.name=t.port=t.environment=void 0;const s=o(r(5622)),a=r(7332);t.environment="production",t.port=process.env.PORT??"9000",t.name=process.env.NAME_API??"API",t.corsUrl=process.env.CORS_URL??"*",t.api={prefixV1:process.env.PREFIX_API_V1??"/api/v1.0"},t.apiGitHub=process.env.API_GITHUB??"https://api.github.com",t.redisConnection={port:+(process.env.REDIS_PORT??6379),host:process.env.REDIS_HOST??"127.0.0.1",enableRedis:"true"===(process.env.REDIS_ENABLE??"true")},t.pathPublic=()=>t.environment===a.ENVIRONMENT.PRODUCTION?__dirname:s.default.join(__dirname,"..","..","infrastructure","entry-points","view")},462:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.middlewares=void 0;const o=r(3864);t.middlewares=e=>{e.use(o.helmet),e.use(o.gzip),e.use(o.cors),e.use(o.bodyParser),e.use(o.archivesStatic),e.use(o.switchEndpoint)}},5017:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=r(3864),s=r(4093),a=r(4611);t.default=e=>{e.get("/status",((e,t)=>{t.status(200).end()})),e.use(s.api.prefixV1,a.routerV1),e.use(o.notFound),e.use(o.errorHandlers)}},5380:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearCachePath=void 0,t.clearCachePath={delete:{tags:["Search"],summary:"API to clear cache",responses:{200:{description:"Success",content:{"application/json":{schema:{$ref:"#/schemas/clearCache"}}}},404:{$ref:"#/components/badRequest"},500:{$ref:"#/components/serverError"}}}}},1576:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.badRequest=void 0,t.badRequest={description:"Invalid params request",content:{"application/json":{schema:{$ref:"#/schemas/error"}}}}},5126:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(1576),t),s(r(9288),t)},9288:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.serverError=void 0,t.serverError={description:"'Something on the server didn't work right'",content:{"application/json":{schema:{$ref:"#/schemas/error"}}}}},3698:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=r(4093),s=r(5126),a=r(5487),n=r(468),i=r(6201),c=r(7930),u=r(4545),d=r(5380);t.default={openapi:"3.0.0",info:{title:"API Node With Clean Architecture",description:"API - Nestor Cortina",version:"1.0"},servers:[{url:o.api.prefixV1}],tags:[{name:"Search"}],paths:{"/search":c.searchPath,"/clear-cache":d.clearCachePath},schemas:{search:n.searchSchema,searchParams:a.searchParamsSchema,clearCache:u.clearCacheSchema,error:i.errorSchema},components:{badRequest:s.badRequest,serverError:s.serverError}}},4545:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearCacheSchema=void 0,t.clearCacheSchema={type:"object",properties:{message:{type:"string"},statusCode:{type:"string"}}}},6201:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.errorSchema=void 0,t.errorSchema={type:"object",properties:{message:{type:"string"},statusCode:{type:"string"}}}},5487:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.searchParamsSchema=void 0,t.searchParamsSchema={type:"object",properties:{type:{type:"string",enum:["users","repositories","issues"]},q:{type:"string"}},required:["type","q"]}},468:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.searchSchema=void 0,t.searchSchema={type:"object",properties:{message:{type:"string"},statusCode:{type:"string"},data:{type:"object",properties:{total_count:{type:"number"},incomplete_results:{type:"boolean"},items:{type:"array",items:{type:"object",properties:{login:{type:"string"},id:{type:"integer",format:"int32"},node_id:{type:"string"},avatar_url:{type:"string"},gravatar_id:{type:"string"},url:{type:"string"},html_url:{type:"string"},followers_url:{type:"string"},following_url:{type:"string"},gists_url:{type:"string"},starred_url:{type:"string"},subscriptions_url:{type:"string"},organizations_url:{type:"string"},repos_url:{type:"string"},events_url:{type:"string"},received_events_url:{type:"string"},type:{type:"string"},site_admin:{type:"boolean"},score:{type:"integer",format:"int32"}}}}}}}}},7930:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.searchPath=void 0,t.searchPath={post:{tags:["Search"],summary:"API to search on github",requestBody:{content:{"application/json":{schema:{$ref:"#/schemas/searchParams"}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{$ref:"#/schemas/search"}}}},404:{$ref:"#/components/badRequest"},500:{$ref:"#/components/serverError"}}}}},6112:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeClearCacheController=void 0;const o=r(8568),s=r(5605),a=r(4665);t.makeClearCacheController=()=>{const e=new a.ClearCacheRepository,t=new o.ClearCacheService(e);return new s.ClearCacheController(t)}},8169:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeSearchController=void 0;const o=r(7581),s=r(1154),a=r(5960);t.makeSearchController=()=>{const e=new s.SearchRepository,t=new a.SearchService(e);return new o.SearchController(t)}},8978:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loaders=void 0;const o=r(1332),s=r(8119),a=r(4093);t.loaders=async()=>{a.redisConnection.enableRedis&&await o.RedisHelper.connect(),s.Logger.info(`API PREFIX: ${a.api.prefixV1}`)}},5401:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const n=r(4093),i=r(8978);(async function(){await(0,i.loaders)();const e=(await Promise.resolve().then((()=>a(r(494))))).default;e.set("port",n.port),e.listen(n.port,(()=>{console.info(`########################################################\nðŸ›¡ï¸  Server ${n.name} listening on port: ${n.port} ðŸ›¡ï¸\n########################################################`)})).on("error",(e=>console.error("error in server.listen ",e)))})().catch(console.error)},106:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.archivesStatic=void 0;const s=o(r(2127)),a=o(r(5622)),n=r(4093);t.archivesStatic=s.default.static(a.default.join((0,n.pathPublic)(),"public"))},3978:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bodyParser=void 0;const o=r(2127);t.bodyParser=(0,o.json)()},6262:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.cors=void 0;const o=r(4093);t.cors=(e,t,r)=>{t.set("access-control-allow-origin",o.corsUrl),t.set("access-control-allow-headers","*"),t.set("access-control-allow-methods","*"),r()}},4251:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.errorHandlers=void 0;const o=r(3725),s=r(3097),a=r(8119);t.errorHandlers=(e,t,r,n)=>{if(void 0===e)n();else switch(e.type){case s.ERROR_HANDLERS.SYNTAX_ERROR:(0,o.BadRequestError)(r,"SyntaxError");break;case s.ERROR_HANDLERS.PAYLOAD_TOO_LARGE:(0,o.PayloadTooLargeError)(r);break;default:(0,o.BadRequestError)(r),a.Logger.error("error handlers",e)}}},8574:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gzip=void 0;const s=o(r(4995));t.gzip=(0,s.default)()},7728:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.helmet=void 0;const s=o(r(6725));t.helmet=(0,s.default)()},3864:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(106),t),s(r(3978),t),s(r(6262),t),s(r(4251),t),s(r(8574),t),s(r(7728),t),s(r(629),t),s(r(734),t)},629:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.notFound=void 0;const o=r(3725);t.notFound=(e,t)=>(0,o.NotFoundError)(t)},734:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.switchEndpoint=void 0;const s=o(r(5622)),a=r(4093);t.switchEndpoint=(e,t,r)=>{e.path.includes(a.api.prefixV1)?r():t.sendFile(s.default.join((0,a.pathPublic)(),"pages","index.html"))}},7332:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ENVIRONMENT=void 0,(r=t.ENVIRONMENT||(t.ENVIRONMENT={})).PRODUCTION="production",r.DEVELOPMENT="development",r.TEST="test"},8917:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SEARCH_TYPE=void 0,t.SEARCH_TYPE=["users","repositories","issues"]},8568:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClearCacheService=void 0,t.ClearCacheService=class{constructor(e){this.clearCacheRepository=e,this.cleanUp=async()=>{await this.clearCacheRepository.cleanUp()}}}},5960:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SearchService=void 0,t.SearchService=class{constructor(e){this.searchRepository=e,this.searchByType=async e=>await this.searchRepository.searchByType(e)}}},1332:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RedisHelper=void 0;const s=o(r(6742)),a=r(8119),n=r(4093);let i;t.RedisHelper={connect:async(e=n.redisConnection.port,t=n.redisConnection.host)=>(i=s.default.createClient(e,t),await new Promise((e=>{i.on("connect",(()=>{a.Logger.info("Connection to the redis has been established successfully! âœŒï¸"),e()}))}))),connection:()=>i,save:async(e,t,r=7200)=>(i.set(e,JSON.stringify(t)),i.expire(e,r),t),find:async e=>await new Promise(((t,r)=>{i.exists(e,((o,s)=>{null!==o&&r(o),1===s?i.get(e,((e,o)=>{null!==e&&r(e),t(JSON.parse(o))})):t(void 0)}))})),delete:async e=>await new Promise(((t,r)=>{void 0===e?i.flushall(((e,o)=>{null!==e&&r(e),t(!0)})):i.del(e,((e,o)=>{null!==e&&r(e),t(!0)}))}))}},8797:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(6207),t),s(r(9033),t)},6207:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidParamError=void 0;class r extends Error{constructor(e){super(),this.statusCode="4000",this.message=`InvalidParamError: ${e}`}}t.InvalidParamError=r},9033:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ServerError=void 0;class r extends Error{constructor(e){super(),this.statusCode="5000",this.message="Error Internal the Server"}}t.ServerError=r},5822:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.serverError=t.badRequest=t.ok=void 0;const o=r(8884),s=r(9033);t.ok=({message:e="Ok",statusCode:t="2000",data:r}=o.defaultAnswerOk)=>({statusCode:200,body:{message:e,statusCode:t,data:r}}),t.badRequest=e=>({statusCode:400,body:e}),t.serverError=e=>({statusCode:500,body:new s.ServerError(e.stack)})},3725:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PayloadTooLargeError=t.NotFoundError=t.BadRequestError=void 0,t.BadRequestError=(e,t="bad request")=>e.status(400).json({statusCode:"4000",message:t}),t.NotFoundError=e=>e.status(404).json({statusCode:"4004",message:"not found"}),t.PayloadTooLargeError=(e,t="payload too large")=>e.status(415).json({statusCode:"4000",message:t})},8884:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultAnswerOk=void 0,t.defaultAnswerOk={message:"OK",statusCode:"2000"}},3097:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_HANDLERS=void 0,(r=t.ERROR_HANDLERS||(t.ERROR_HANDLERS={})).SYNTAX_ERROR="entity.parse.failed",r.PAYLOAD_TOO_LARGE="entity.too.large"},3320:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationSource=t.default=void 0;var s=r(286);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(s).default}});var a=r(286);Object.defineProperty(t,"ValidationSource",{enumerable:!0,get:function(){return a.ValidationSource}})},286:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationSource=void 0;const o=r(8797),s=r(5822);var a;!function(e){e.BODY="body",e.HEADER="headers",e.QUERY="query",e.PARAM="params"}(a=t.ValidationSource||(t.ValidationSource={})),t.default=(e,t=a.BODY)=>({async handle(r){const{error:a}=e.validate(r[t]);if(void 0===a)return(0,s.ok)();const{details:n}=a,i=n.map((e=>e.message.replace(/['"]+/g,""))).join(",");return(0,s.badRequest)(new o.InvalidParamError(i))}})},6200:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClearCacheController=void 0;const o=r(5822),s=r(8119);t.ClearCacheController=class{constructor(e){this.clearCacheService=e}async handle(e){try{return await this.clearCacheService.cleanUp(),(0,o.ok)({message:"Cleared backend caching"})}catch(e){return s.Logger.error("ClearCacheController",e),(0,o.serverError)(e)}}}},9974:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearCacheRoutes=void 0;const o=r(2127),s=r(8809),a=r(6112);t.clearCacheRoutes=(0,o.Router)(),t.clearCacheRoutes.delete("/",(0,s.AdaptRoute)((0,a.makeClearCacheController)()))},5605:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearCacheRoutes=t.ClearCacheController=void 0;var o=r(6200);Object.defineProperty(t,"ClearCacheController",{enumerable:!0,get:function(){return o.ClearCacheController}});var s=r(9974);Object.defineProperty(t,"clearCacheRoutes",{enumerable:!0,get:function(){return s.clearCacheRoutes}})},4611:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.routerV1=void 0;const o=r(2127),s=r(7581),a=r(5605);t.routerV1=(0,o.Router)({caseSensitive:!0}),t.routerV1.use("/search",s.searchRoutes),t.routerV1.use("/clear-cache",a.clearCacheRoutes)},7581:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.searchRoutes=t.schemaSearch=t.SearchController=void 0;var o=r(7398);Object.defineProperty(t,"SearchController",{enumerable:!0,get:function(){return o.SearchController}});var s=r(1421);Object.defineProperty(t,"schemaSearch",{enumerable:!0,get:function(){return s.schemaSearch}});var a=r(2880);Object.defineProperty(t,"searchRoutes",{enumerable:!0,get:function(){return a.searchRoutes}})},7398:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SearchController=void 0;const o=r(5822),s=r(8119);t.SearchController=class{constructor(e){this.searchService=e}async handle(e){try{const t=e.body,r=await this.searchService.searchByType(t);return(0,o.ok)({message:`downloaded ${t.type}`,data:r})}catch(e){return s.Logger.error("SearchController",e),(0,o.serverError)(e)}}}},2880:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.searchRoutes=void 0;const s=r(2127),a=o(r(3320)),n=r(7581),i=r(8809),c=r(8169),u=r(287);t.searchRoutes=(0,s.Router)(),t.searchRoutes.post("/",...(0,u.AdaptRouteMiddleware)((0,a.default)(n.schemaSearch)),(0,i.AdaptRoute)((0,c.makeSearchController)()))},1421:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.schemaSearch=void 0;const o=r(8917),s=r(4658);t.schemaSearch=s.Validator.object().keys({type:s.Validator.string().min(3).max(30).valid(...o.SEARCH_TYPE).required(),q:s.Validator.string().min(1).max(100).required()})},8119:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0,t.Logger={info:(...e)=>{e.forEach((e=>{console.info(e)}))},debug:(...e)=>{e.forEach((e=>{console.debug(e)}))},error:(e,t="")=>{console.error(`âš ï¸  ${e} âš ï¸ `,t)}}},2237:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(r(6786)),a=Array.from(new Array(200),((e,t)=>t+200)),n={get:async(e,t)=>{const r={"Content-Type":"application/json"};if(void 0!==t){const{headers:e={}}=t;Object.assign(r,e)}const o=await(0,s.default)(e,{method:"GET",headers:r}),n={response:await o.json(),status:o.status,error:!1};return a.includes(n.status)||(n.error=!0),n},post:async(e,t)=>{const r={"Content-Type":"application/json"};let o;if(void 0!==t){const{headers:e={},body:s={}}=t;Object.assign(r,e),o=s}const n=await(0,s.default)(e,{method:"POST",headers:r,body:JSON.stringify(o)}),i={response:await n.json(),status:n.status,error:!1};return a.includes(i.status)||(i.error=!0),i},put:async(e,t)=>{const r={"Content-Type":"application/json"};let o;if(void 0!==t){const{headers:e={},body:s={}}=t;Object.assign(r,e),o=s}const n=await(0,s.default)(e,{method:"PUT",headers:r,body:JSON.stringify(o)}),i={response:await n.json(),status:n.status,error:!1};return a.includes(i.status)||(i.error=!0),i},delete:async(e,t)=>{const r={"Content-Type":"application/json"};let o;if(void 0!==t){const{headers:e={},body:s={}}=t;Object.assign(r,e),o=s}const n=await(0,s.default)(e,{method:"DELETE",headers:r,body:JSON.stringify(o)}),i={response:await n.json(),status:n.status,error:!1};return a.includes(i.status)||(i.error=!0),i}};t.default=n},3247:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(2237);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(s).default}})},4658:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(8960),t)},8960:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Validator=void 0;const s=o(r(4320));t.Validator=s.default},1115:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRepository=void 0;const s=r(1332),a=o(r(3247)),n=r(4093);t.BaseRepository=class{constructor(e=a.default,t=s.RedisHelper){this.http=e,this.redis=t}async create(e,t){return n.redisConnection.enableRedis?await this.redis.save(e,t):t}async delete(e){return!n.redisConnection.enableRedis||await this.redis.delete(e)}async findOne(e){if(n.redisConnection.enableRedis)return await this.redis.find(e)}}},4665:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClearCacheRepository=void 0;const o=r(1115);class s extends o.BaseRepository{constructor(){super(...arguments),this.cleanUp=async()=>{await this.delete()}}}t.ClearCacheRepository=s},1154:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SearchRepository=void 0;const o=r(1115),s=r(4093);class a extends o.BaseRepository{constructor(){super(...arguments),this.searchByType=async e=>{const{type:t,q:r}=e;return await this.searchType[t](r)},this.searchInApi=async(e,t)=>{const r=`${s.apiGitHub}/search/${e}?q=${t}`,{response:o,error:a}=await this.http.get(r);if(a)throw new Error(o);return o},this.searchType={users:async e=>{const t=await this.findOne(`${e}-users`);if(void 0!==t)return t;const r=await this.searchInApi("users",e);return await this.create(`${e}-users`,r),r},repositories:async e=>{const t=await this.findOne(`${e}-repositories`);if(void 0!==t)return t;const r=await this.searchInApi("repositories",e);return await this.create(`${e}-repositories`,r),r},issues:async e=>{const t=await this.findOne(`${e}-issues`);if(void 0!==t)return t;const r=await this.searchInApi("issues",e);return await this.create(`${e}-issues`,r),r}}}}t.SearchRepository=a},4995:e=>{e.exports=require("compression")},2127:e=>{e.exports=require("express")},6725:e=>{e.exports=require("helmet")},4320:e=>{e.exports=require("joi")},6786:e=>{e.exports=require("node-fetch")},5622:e=>{e.exports=require("path")},6742:e=>{e.exports=require("redis")},6677:e=>{e.exports=require("swagger-ui-express")}},t={};!function r(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,r),a.exports}(5401)})();